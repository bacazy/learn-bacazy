# 计算机网络-应用层

## DNS-域名系统
DNS实现了一种分层次的、基于域的命名方案，并且使用一个分布式数据库系统来实现次命名方案。DNS的主要用途就是将主机名和电子邮件目标地址映射成IP地址。为了将一个名字映射成IP地址，应用程序调用一个名为解析器的库过程，并将这个名字作为参数传递给此过程。

## 邮件
#### SMTP简单邮件传输协议
源机器与目标机器之间的25号端口建立一个TCP连接。监听这个端口的程序是一个实现了SMTP的电子邮件守护进程。这个守护进程接受新进来的连接请求，并且将消息复制到正确的邮箱中。如果一个消息不能被正确的投递的话，那么就向发送方返回一份错误报告。

这种方式投递需要在发送方和接收方之间先建立TCP连接，然后再传输邮件。然而，随着越来越多的人使用调制解调器通过ISP来访问internet，双方可能不是同时在线。一种解决方案就是在ISP的某一台机器上运行一个消息传输代理，由它为用户接受电子邮件并将邮件存储在ISP的机器上的客户邮箱中。

#### POP3
上述解决方案依然存在一个问题：用户如何从ISP的消息传输代理那里得到电子邮件？这个问题的解决方案就是建立一个新的协议，用户传输代理通过这个协议与消息传输代理联系，并且将电子邮件从消息传输代理复制到用户机器上。

#### IMAP 消息访问协议
POP3协议在每次交互时，会下载所有的消息，若在多个客户机上登陆邮箱，那么用户的电子邮件就会分布到许多机器上。为了解决这个缺点，出现了IMAP协议。POP3基本上假设用户在每次交互后都将会清除邮箱然后脱机工作，而IMAP则假设所有的电子邮件都会永久的保存在服务器中的多个邮箱中。IMAP提供了阅读消息或者阅读部分消息的扩展机制。

## WWW
这里比较常见，只记录一部分概念
在浏览器中点击一个连接所发生的动作：
1. 浏览器确定URL
1. 浏览器向DNS询问主机的IP地址
1. DNS回复IP地址
1. 浏览器与主机上的80端口建立一个TCP连接
1. 发送一个请求，要求获取一个文件
1. 主机服务器发送文件
1. TCP连接被释放
1. 浏览器解析并处理该文件（可能需要进行渲染等）

### 服务器性能优化
1. 缓存 
1. 服务器复制（镜像）
1. 内容分发网络

### HTTP超文本传输协议
Http虽然使用了TCP的服务，但是其本身是无状态的协议，也就是服务器不会保存有关客户的信息。